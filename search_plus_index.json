{"./":{"url":"./","title":"简介","keywords":"","body":"简介 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/start/":{"url":"chaps/start/","title":"第一章 编译安装","keywords":"","body":"编译安装 由于笔者日常工作环境中很少使用其他系统平台，暂时abtool只支持针对macOS系统的编译运行，感兴趣的朋友可以自行适配其他系统平台，涉及平台差异的部分主要是以下几个外部链接库： libreadline libfbxsdk libiconv libxml2 libz abtool源码基于C++14标准库实现，理论上处理好以上几个外部库的依赖问题即可成功编译。 首次编译abtool 如果您不是第一次使用abtool，也就是说您手上已经有了一份abtool工具，那么可以跳过该步骤，直接进行下一步操作。 Xcode编译 打开Xcode，使用组合键⌘+B即可进行源码编译，之后编译可以在终端环境或者shell脚本里面随意使用，这是生成abtool工具的最简单的方式，需要注意的是请确保目标目录/usr/local/bin已被预先创建。 CMake编译 # 当前cd目录为工程根目录 mkdir build cd build cmake .. cmake --build . 脚本执行完，会在build/bin目录生成abtool命令行。 生成TypeTree数据 TypeTree记录了资源对象数据的序列化信息，收集TypeTree的目的是为了把Unity的类型信息集成到abtool工具里面，只有这样abtool才有可能实现它的功能。 为了让大家快速体验整个工具编译过程，笔者在工程doc目录准备了QuickStart.unitypackage资源包，现在您只需要新建一个新的Unity工程，然后导入所有资源，通过Unity菜单abtool/Build Asset Bundles即可快速生成包含了TypeTree信息的ab文件，该资源包包含了能够让abtool源码正常编译的最小集合，准确来说是，资源里面包含了以下编译必须的资源对象类型： GameObject RectTransform Transform TextAsset Texture2D Cubemap Material Shader SpriteRenderer SkinnedMeshRenderer MeshRenderer ParticleSystemRenderer LineRenderer TrailRenderer MeshFilter Animator Mesh 如果您现有的项目资源已经覆盖了以上资源类型，那么可以放心使用abtool收集相应的TypeTree数据。然而QuickStart资源包只是覆盖了最小集合的资源类型，如果需要最大限度发挥abtool的效力，笔者强烈建议您扫描尽可能多的ab文件，从而可以收集到尽可能多的Unity类型数据，这样会让您定位资源问题更加得心应手，相信您在后续的日常使用中会深刻明白这一点。 # doc/resources目录存储了QuickStart资源编译的iOS/Android双平台的ab文件 cd doc/resources # 由于QuickStart生成的ab文件后缀为ab，所以可以通过'*.ab'进行文件匹配 # 请根据实际项目的ab文件后缀做适当修改 find . -iname '*.ab' | xargs abtool savetree -a types.tte 上述脚本通过find命令查找所有的ab文件，并把这些文件通过xargs透传给abtool工具去处理，最终会在当前目录生成types.tte文件（当然也可以通过savetree的-a参数指定其他保存目录），这就是我们需要的Unity类型数据。 生成对象序列化代码 types.tte是个二进制文件，把它转换成C++代码才能最终为abtool所用，通过下面这行命令可以轻松完成这个任务，整个过程就好比使用protoc编译*.proto文件一样。 # 当前cd目录为工程根目录 abtool gtt -a doc/resources/types.tte -o abtool/assetbundles/unity 由于上面的脚本是在工程根目录执行，并且代码的输出目录为abtool/assetbundles/unity，所以当脚本执行完成后工程的代码就得到了更新。 最终编译abtool 通过上一步骤我们修改了Unity资源对象的序列化代码，所以还需要再次编译，这样我们就最终得到了功能完备的abtool，通过后续的章节可以逐渐窥探它强大的威力。 什么情况下需要重新编译abtool? 升级了Unity版本 修改了Unity源码里面涉及资源对象的序列化的代码 修改了AssetBundleArchive容器存储结构 修改了SerializedFile存储结构 如果需要abtool正常处理所有MonoBehaviour组件数据，那么您需要定期编译abtool，不过我们大部分情况下并不关心这部分数据。 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/":{"url":"chaps/cases/","title":"第二章 应用案例","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/case_crash.html":{"url":"chaps/cases/case_crash.html","title":"资源引发崩溃","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/case_noref.html":{"url":"chaps/cases/case_noref.html","title":"资源引用丢失","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/case_display.html":{"url":"chaps/cases/case_display.html","title":"显示异常","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/case_compare.html":{"url":"chaps/cases/case_compare.html","title":"资源差异比对","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/case_reverse/":{"url":"chaps/cases/case_reverse/","title":"资源逆向","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/case_reverse/texture.html":{"url":"chaps/cases/case_reverse/texture.html","title":"贴图","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/case_reverse/model.html":{"url":"chaps/cases/case_reverse/model.html","title":"模型","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/":{"url":"chaps/commands/","title":"第三章 命令详解","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/savetree.html":{"url":"chaps/commands/savetree.html","title":"savetree","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/gtt.html":{"url":"chaps/commands/gtt.html","title":"gtt","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/dump.html":{"url":"chaps/commands/dump.html","title":"dump","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/list.html":{"url":"chaps/commands/list.html","title":"list","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/size.html":{"url":"chaps/commands/size.html","title":"size","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/scanref.html":{"url":"chaps/commands/scanref.html","title":"scanref","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/scantex.html":{"url":"chaps/commands/scantex.html","title":"scantex","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/savefbx.html":{"url":"chaps/commands/savefbx.html","title":"savefbx","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/savetex.html":{"url":"chaps/commands/savetex.html","title":"savetex","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/saveta.html":{"url":"chaps/commands/saveta.html","title":"saveta","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/saveobj.html":{"url":"chaps/commands/saveobj.html","title":"saveobj","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/objref.html":{"url":"chaps/commands/objref.html","title":"objref","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/mono.html":{"url":"chaps/commands/mono.html","title":"mono","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/cmpref.html":{"url":"chaps/commands/cmpref.html","title":"cmpref","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/cmpxtl.html":{"url":"chaps/commands/cmpxtl.html","title":"cmpxtl","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/cmphash.html":{"url":"chaps/commands/cmphash.html","title":"cmphash","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/external.html":{"url":"chaps/commands/external.html","title":"external","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/rmtree.html":{"url":"chaps/commands/rmtree.html","title":"rmtree","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/lua.html":{"url":"chaps/commands/lua.html","title":"lua","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/commands/edit.html":{"url":"chaps/commands/edit.html","title":"edit","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/developments/":{"url":"chaps/developments/","title":"第四章 进阶开发","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/developments/project.html":{"url":"chaps/developments/project.html","title":"项目架构","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/developments/coding.html":{"url":"chaps/developments/coding.html","title":"文件解析","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/developments/serialization.html":{"url":"chaps/developments/serialization.html","title":"对象序列化","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/developments/command.html":{"url":"chaps/developments/command.html","title":"命令系统","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/developments/filesystem.html":{"url":"chaps/developments/filesystem.html","title":"文件系统","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/developments/lua.html":{"url":"chaps/developments/lua.html","title":"LUA绑定","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"chaps/cases/case_protect.html":{"url":"chaps/cases/case_protect.html","title":"资源防护","keywords":"","body":" console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"}}